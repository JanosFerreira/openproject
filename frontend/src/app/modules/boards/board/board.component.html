<div *ngIf="(board$ | async) as board"
     class="board--container">

  <div class="toolbar-container -editable">
    <div id="toolbar">
      <div class="title-container board--header-container">
        <div class="wp-show--back-button hide-when-print">
          <accessible-by-keyboard (execute)="goBack()"
                                  linkClass="work-packages-list-view-button button">
            <op-icon icon-classes="button--icon icon-back-up"></op-icon>
          </accessible-by-keyboard>
        </div>
        <span class="form--text-field-container">
          <input class="toolbar--editable-toolbar -border-on-hover-only form--text-field"
                 autocomplete="off"
                 type="text"
                 [placeholder]="text.unnamedBoard"
                 [ngModel]="board.name"
                 (ngModelChange)="rename$.next($event)"
                 name="board_name" />
        </span>
        <ul class="toolbar-items">
          <li class="toolbar-item">
            <zen-mode-toggle-button></zen-mode-toggle-button>
          </li>
          <li class="toolbar-item">
            <accessible-by-keyboard (execute)="destroyBoard(board)"
                                    linkClass="boards--destroy-button button -danger">
              <op-icon icon-classes="button--icon icon-delete"></op-icon>
              {{ text.delete }}
            </accessible-by-keyboard>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <label for="cardView">
    Show as cards
    <input type="checkbox" name="cardView" [(ngModel)]="useCardView" />
  </label>

  <div class="boards-list--container">
    <div class="boards-list--item" *ngFor="let query of board.queries; trackBy:trackByQueryId">
      <board-list [useCardView]="useCardView"
                  [resource]="query">
      </board-list>
    </div>

    <div class="boards-list--add-item"
         *ngIf="board.queries.length < maxCount"
         (click)="addList(board)">
      <div class="boards-list--add-item-text">
        <op-icon icon-classes="icon-add icon-context"></op-icon>
        <span [textContent]="text.addList"></span>
      </div>
    </div>
  </div>
</div>
